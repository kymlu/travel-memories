<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <title>Trip Memories — 旅行の思い出</title>
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body class="page-bg">
  <!-- Top bar -->
  <div id="top-bar" class="top-bar transparent" style="z-index: 5000;">
    <div id="btn-grp-left" class="btn-grp">
      <button id="globe-btn" class="text-main-color large-icon" style="z-index: 5001;">&#xf0ac</button>
      <button id="map-btn" class="text-main-color large-icon no-display" style="z-index: 5001;">&#xf279</button>
    </div>
    <div id="o-rgn-title" style="display: flex; justify-content: center;">
      <div id="o-rgn-title-btn" class="o-rgn-title no-display">
        <div id="o-rgn-name" class="regular-text bold-text" style="text-align: center;"></div>
        <button id="o-rgn-name-arrow" class="text-main-color large-icon transform-transition arrow-down">&#xf0d7</button>
      </div>
    </div>
    <div id="btn-grp-right" class="btn-grp">
      <button id="filter-btn" class="text-main-color large-icon no-display"> &#xf0b0</button>
      <button id="info-btn" class="text-main-color large-icon no-display">&#xf05a</button>
      <button id="creator-btn" class="text-main-color large-icon">&#xf005</button>
    </div>
  </div>

  <!-- Dropdown official region selector -->
  <div id="o-rgn-drop-down-container" class="flex-column no-display" style="z-index: 5001;">
    <div id="o-rgn-drop-down-bg" class="popup-bg opacity-transition transparent"></div>
    <div id="o-rgn-drop-down" class="o-rgn-drop-down regular-text"></div>
  </div>

  <!-- Map Page (Map and Official Region List) -->
  <div id="map-page" class="map-page transparent opacity-transition">
    <object id="country-map" type="image/svg+xml" class="country-map"></object>
    <h1 id="main-title"></h1>
    <p id="map-instructions" class="regular-text" style="text-align: center; margin-top: 0;"></p>
    <div id="o-rgn-list" class="o-rgn-list"></div>
  </div>

  <!-- Official Region Info -->
  <div id="o-rgn-info" class="no-display" style="z-index: 4999; position: relative;">
    <div id="o-rgn-info-bg" class="popup-bg opacity-transition portrait-only transparent"></div>
    <div id="o-rgn-info-drawer" class="o-rgn-info-container no-display">
      <div class="o-rgn-info">
        <object id="country-map-mini" type="image/svg+xml" data="img/japan.svg" class="mini-map opacity-transition transparent"></object>
        <div id="o-rgn-info-txt" class="flex-column regular-text o-rgn-info-text">
          <div>
            <div id="dates-title" class="bold-text"></div>
            <div id="o-rgn-dates"></div>
          </div>
          <div>
            <div id="cities-title" class="bold-text"></div>
            <div id="o-rgn-cities"></div>
          </div>
          <div>
            <div id="description-title" class="bold-text"></div>
            <div id="o-rgn-desc">
              <div id="o-rgn-desc-eng"></div>
              <div id="o-rgn-desc-jp"></div>
            </div>
          </div>
        </div>
      </div>
      <div id="o-rgn-info-handle">
        <hr class="drawer-handle" />
      </div>
    </div>
  </div>

  <!-- Picture Gallery -->
  <div id="gallery" class="gallery no-display"></div>

  <!-- Scroll to top btn -->
  <button id="to-top-btn" class="large-icon floating-btn opacity-transform-transition arrow-down no-display">&#xf103</button>

  <!-- Filter Popup -->
  <div id="filter-popup" class="hidden-popup" style="z-index: 10000;">
    <div id="filter-popup-bg" class="popup-bg opacity-transition transparent"></div>
    <div id="img-filter-popup" class="popup centered transparent">
      <button id="filter-popup-close-btn" class="large-icon close-btn">&#xf00d</button>
      <div id="filters" class="flex-column popup-content transparent opacity-transition no-display" style="height: 100%">
        <div class="flex-column" style="justify-content: space-between; height: 100%;">
          <div class="flex-column" style="gap: 15px;">
            <p id="filter-title" class="bold-text" style="margin-bottom: 0;"></p>
            <div>
              <label id="keyword-title" class="bold-text" for="keyword-input"></label><br>
              <div style="display: flex; align-items: center;">
                <input type="text" id="keyword-input">
                <div id="kw-clear-btn" class="clear-icon no-display">&#xf057</div>
              </div>
              <br>
            </div>
            <div>
              <label id="location-title" class="bold-text"></label><br>
              <div id="location-list" class="tag-list"></div>
            </div>
            <div>
              <label id="tags-title" class="bold-text"></label><br>
              <div id="tags-list" class="tag-list"></div>
            </div>
          </div>
          <div style="display: flex; width: 100%; justify-content: center; gap: 15px; margin-top: 15px;">
            <button id="clear-btn" class="action-btn"></button>
            <button id="submit-btn" class="action-btn"></button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Info Popup -->
  <div id="info-popup" class="hidden-popup" style="z-index: 10000;">
    <div id="popup-bg" class="popup-bg opacity-transition transparent"></div>
    <div id="site-info-popup" class="popup centered transparent">
      <button id="info-popup-close-btn" class="large-icon close-btn">&#xf00d</button>
      <div id="site-info" class="flex-column opacity-transition popup-content transparent no-display">
        <div class="regular-text">
          <p class="bold-text">About this site</p>
          <p>I was in Japan on exchange in September 2022 - April 2023. After Japan, I decided to travel around to Taiwan, Australia, and New Zealand in April and May 2023.
            This site contains the highlights of all the trips that I made. I made. For privacy reasons, I do not plan to upload close-up pictures of myself or my friends to this page.</p>
          <p>Design, coding, and photography: Katherine (Katie) Lu</p>
        </div>
        <div class="regular-text">
          <p class="bold-text">このサイトについて</p>
          <p>留学のため、2022年9月から2023年4月まで日本に滞在しました。出国した後、台湾、オーストラリアとニュージーランドの旅行もした。
            このウェブページでは、皆さんに私の旅行のハイライトを紹介したいと思います。プライバシーのため、自分と知り合いの写真を掲載しません。</p>
          <p>デザイン・プログラミング・写真：ルー・キャサリン（ケイティー）</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Fullscreen Picture -->
  <div id="fullscreen" class="centered hidden-popup opacity-transition transparent fullscreen-container" style="z-index: 6000;">
    <div id="fullscreen-gallery" class="fullscreen-gallery">
      <div id="fullscreen-bg" class="popup-bg opacity-transition transparent" style="z-index: 0;"></div>
      <div id="fullscreen-ctrl" class="fullscreen-ctrl" style="z-index: 1;">
        <button id="left-arrow" class="large-icon fullscreen-arrow">&#xf0d9</button>
        <div>
          <img id="fullscreen-pic-next" class="fullscreen-pic transparent centered no-display" style="position: absolute;" src="img/BFD9CC0C-53AB-4F00-851A-AAB2D06A37A6.jpeg" />
          <img id="fullscreen-pic" class="fullscreen-pic centered" style="position: absolute;" src="img/BFD9CC0C-53AB-4F00-851A-AAB2D06A37A6.jpeg" />
        </div>
        <button id="right-arrow" class="large-icon fullscreen-arrow">&#xf0da</button>
      </div>
      <button id="pic-info-btn" class="large-icon pic-info-btn" style="z-index: 3;">&#xf05a</button>
    </div>
    <div id="pic-info" style="z-index: 3;">
      <div id="pic-info-bg" class="portrait-only popup-bg transparent"></div>
      <div id="pic-info-drawer" class="pic-info-container">
        <button id="pic-info-close-btn" class="large-icon close-btn portrait-only">&#xf00d</button>
        <div id="pic-info-handle" style="align-self: center;">
          <hr class="drawer-handle" />
        </div>
        <div id="pic-info-details" class="flex-column pic-info-details caption-text">
          <div id="fullscreen-eng-date"></div>
          <div><span id="fullscreen-eng-city"></span> <span id="search-eng"
              class="search-icon">&#xf002</span></div>
          <div id="fullscreen-eng-caption"></div>
          <hr class="divider">
          <div id="fullscreen-jp-date"></div>
          <div><span id="fullscreen-jp-city"></span> <span id="search-jp"
              class="search-icon">&#xf002</span></div>
          <div id="fullscreen-jp-caption"></div>
          <hr class="divider">
          <div id="camera-info"></div>
          <div id="lens-info"></div>
          <div id="technical-info" style="display: flex; gap: 20px; flex-wrap: wrap;"></div>
          <div id="img-tags" class="tag-list"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Loading Screen -->
  <div id="start-screen" class="start-screen opacity-transition transparent no-display" style="z-index: 6000">
    <div id="start-btn-jp" class="start-btn">
      <img id="sakura" src="img/icons/sakura.svg" class="start-img">
      <div id="start-text-jp" class="centered start-text">
        <p>Start</p>
        <p>スタート</p>
      </div>
    </div>
    <div id="start-btn-tw" class="start-btn">
      <img id="sun" src="img/icons/sun.svg" class="start-img">
      <div id="start-text-tw" class="centered start-text">
        <p>Start</p>
        <p>スタート</p>
      </div>
    </div>
    <div id="start-btn-au" class="start-btn">
      <img id="koala" src="img/icons/koala.svg" class="start-img">
      <div id="start-text-au" class="centered start-text">
        <p>Start</p>
        <p>スタート</p>
      </div>
    </div>
    <div id="start-btn-nz" class="start-btn">
      <img id="kiwi" src="img/icons/sun.svg" class="start-img">
      <div id="start-text-nz" class="centered start-text">
        <p>Start</p>
        <p>スタート</p>
      </div>
    </div>
    <div id="error-btn" class="error-btn centered loader-text" onclick="retry()">
        <p>Failed to fetch data. Try again?</p>
        <p>データアクセスに失敗しました。再試行する？</p>
      </div>
    </div>
  </div>
  <div id="loader" class="loader centered opacity-transition">
    <div id="load1" class="loader-dot" style="transform: rotate(315deg) translate(80px) rotate(315deg); animation-delay: -1.75s;"></div>
    <div id="load2" class="loader-dot" style="transform: rotate(0deg) translate(80px) rotate(0deg); animation-delay: -1.5s;"></div>
    <div id="load3" class="loader-dot" style="transform: rotate(45deg) translate(80px) rotate(45deg); animation-delay: -1.25s;"></div>
    <div id="load4" class="loader-dot" style="transform: rotate(90deg) translate(80px) rotate(90deg); animation-delay: -1s;"></div>
    <div id="load5" class="loader-dot" style="transform: rotate(135deg) translate(80px) rotate(135deg); animation-delay: -0.75s;"></div>
    <div id="load6" class="loader-dot" style="transform: rotate(180deg) translate(80px) rotate(180deg); animation-delay: -0.5s;"></div>
    <div id="load7" class="loader-dot" style="transform: rotate(225deg) translate(80px) rotate(225deg); animation-delay: -0.25s;"></div>
    <div id="load8" class="loader-dot" style="transform: rotate(270deg) translate(80px) rotate(270deg); animation-delay: 0s;"></div>
  </div>

  <!-- Scripts -->
  <!-- <script src="https://raw.githubusercontent.com/kymlu/travel-memories/main/js/image.js"></script>
  <script src="https://raw.githubusercontent.com/kymlu/travel-memories/main/js/prefecture.js"></script>
  <script src="https://raw.githubusercontent.com/kymlu/travel-memories/main/js/region.js"></script> -->
  <script src="js/main.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/exif-js/2.3.0/exif.js"></script>
</body>